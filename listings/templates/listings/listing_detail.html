{% extends 'base.html' %}
{% load static %}
{% block content %}
    <h1 class="text-3xl font-bold mb-6">{{ listing.name }}</h1>
    <div class="bg-white p-6 rounded-lg shadow-md">
        {% if listing.image %}
            <img src="{{ listing.image }}" alt="{{ listing.name }}" class="w-64 h-auto mb-4">
        {% endif %}
        <p class="text-gray-600">Price: ${{ listing.price }}</p>
        <p class="text-gray-600">Condition: {{ listing.condition }}</p>
        <p class="text-gray-600">Seller: {{ listing.seller.username }}</p>
        {% if user.is_authenticated %}
            {% if user != listing.seller %}
                <h2 class="text-xl font-semibold mt-6">Make an Offer</h2>
                <form method="post" class="mt-4">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="amount" class="block text-gray-700 font-medium">Offer Amount ($):</label>
                        <input type="number" step="0.01" min="0.01" name="amount" id="amount" class="border rounded p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-600" required>
                    </div>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Offer</button>
                </form>
            {% else %}
                <p class="text-gray-500 mt-4">You cannot make an offer on your own listing.</p>
            {% endif %}
        {% else %}
            <p class="text-gray-500 mt-4">Please <a href="{% url 'login' %}" class="text-blue-600 hover:underline">log in</a> to make an offer.</p>
        {% endif %}
    </div>
{% endblock %}